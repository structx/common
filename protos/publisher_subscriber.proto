
syntax = "proto3";

option go_package = "pubsub.v1";

package pubsub;

import "google/protobuf/empty.proto";

service PubSubService {
    rpc Publish(stream Message) returns (google.protobuf.Empty) {}
    rpc Subscribe(Subscription) returns (stream Message) {}
}

message Message {
    string topic = 1;
    bytes data = 2;
}

message Subscription {
    string topic = 1;
}